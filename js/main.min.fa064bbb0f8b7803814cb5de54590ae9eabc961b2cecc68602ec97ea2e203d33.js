$(document).ready(function(){$('#mainContent').on('scroll load',onScroll),$('#mainContent').on('touchmove',onScrollTouch),topScroll(),$("body").on("click",function(b){var a,c;if(b.target.tagName!=="A")return;if(history===null)return;a=b.target.href,c=window.location.origin,typeof c!="string"||a.search(c)!==0?(b.preventDefault(),window.open(a,"_blank")):(b.preventDefault(),loadPage(a),history.pushState(null,"",a))}),window.onpopstate=function(a){loadPage(window.location)},getCookie("spotifyWidget")&&removeOverlay(),$('.s-wrap > input').on('input',function(){var a=$('.s-wrap > input:checked')[0]});var a=$('.s-wrap > input').length;$('#image-slider').on('touchstart',function(c){const b=c.originalEvent.touches[0].pageX;$(this).one('touchmove',function(f){var c;const d=f.originalEvent.touches[0].pageX,e=5;Math.floor(b-d)>e?(c=$('input:checked')[0],slider=parseInt(c.id.replace('s-',''))+1,slider==a+1&&(slider=a),$('.s-wrap #'+c.id+':checked ~ .s-content').css('transform','translateX(calc(-(100% / '+a+') * ('+slider+' - 1) ) )'),$('.s-wrap #s-'+slider).prop('checked',!0)):Math.floor(b-d)<-e&&(c=$('input:checked')[0],slider=parseInt(c.id.replace('s-',''))-1,slider==0&&(slider=1),$('.s-wrap #'+c.id+':checked ~ .s-content').css('transform','translateX(calc(-(100% / '+a+') * ('+slider+' - 1) ) )'),$('.s-wrap #s-'+slider).prop('checked',!0))}),$(this).on('touchend',function(){$(this).off('touchmove')})})});function loadPage(b){var a=new XMLHttpRequest;a.onreadystatechange=function(){var b,c,d;if(a.readyState!==XMLHttpRequest.DONE)return;if(b=a.responseXML,b===null)return;if(c=a.responseXML.getElementById("mainContent"),c===null)return;document.title=b.title,d=document.getElementById("mainContent"),d.replaceWith(c),$("#remove-img").bind("click",function(){$("#spotifyModal").css("display","block")}),$("#accept").bind("click",function(){$("#spotifyModal").css("display","none"),removeOverlay(),setCookie("spotifyWidget","true",13)}),$("#abort").bind("click",function(){$("#spotifyModal").css("display","none")}),$("body").bind("click",function(a){a.target==$("#spotifyModal").get(0)&&$("#spotifyModal").css("display","none")}),getCookie("spotifyWidget")&&removeOverlay(),createPie(".pieID.legend",".pieID.pie"),$('#mainContent').on('scroll load',onScroll),$('#mainContent').on('touchmove',onScrollTouch),topScroll()},a.responseType="document",a.open("GET",b),a.send()}function onScroll(){$('#mainContent').scrollTop()>=300?$('#back-to-top-button').addClass('show'):$('#back-to-top-button').removeClass('show')}function onScrollTouch(){console.log('test'),$(document).scrollTop()>=300?$('#back-to-top-button').addClass('show'):$('#back-to-top-button').removeClass('show')}function topScroll(){$("#back-to-top-button").on('click touchend',function(c){var a,b;return c.preventDefault(),a=window.location.href,b=document.title,window.location.href=a+'#back-to-top',window.history.replaceState({},b,a),!1})}function setCookie(d,e,b){var c="",a;b&&(a=new Date,a.setTime(a.getTime()+b*24*60*60*1e3),c="; expires="+a.toUTCString()),document.cookie=d+"="+(e||"")+c+"; path=/"}function getCookie(e){for(var c=e+"=",d=document.cookie.split(';'),b=0,a;b<d.length;b++){for(a=d[b];a.charAt(0)==' ';)a=a.substring(1,a.length);if(a.indexOf(c)==0)return a.substring(c.length,a.length)}return null}function eraseCookie(a){document.cookie=a+'=; Max-Age=-99999999;'}function sliceSize(a,b){return a/b*360}function addSlice(d,e,a,b,f){var c;$(e).append("<div class='slice "+b+"'><span></span></div>"),a=a-1,c=-179+d,$("."+b).css({transform:"rotate("+a+"deg) translate3d(0,0,0)"}),$("."+b+" span").css({transform:"rotate("+c+"deg) translate3d(0,0,0)","background-color":f})}function iterateSlices(b,e,c,f,g,d){var h="s"+f+"-"+g,a=179;b<=a?addSlice(b,e,c,h,d):(addSlice(a,e,c,h,d),iterateSlices(b-a,e,c+a,f,g+1,d))}function createPie(c,h){var b=[],e,a,f,g,d;$(c+" span").each(function(){b.push(Number($(this).html()))}),e=0;for(a=0;a<b.length;a++)e+=b[a];f=0,g=["#3f3f3f","#717171","#b6b6b6","#ffffff","#137457","#0c4836","#17a2b8","#0f6674","#296ACC"];for(a=0;a<b.length;a++)d=sliceSize(b[a],e),iterateSlices(d,h,f,a,0,g[a]),$(c+" li:nth-child("+(a+1)+")").css("border-color",g[a]),f+=d}