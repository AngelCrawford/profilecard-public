$(document).ready(function(){$("#mainContent").on("scroll load",onScroll),$("#mainContent").on("touchmove",onScrollTouch),topScroll(),$("body").on("click",function(e){if(e.target.tagName!=="A")return;if(history===null)return;var t=e.target.href,n=window.location.origin;typeof n!="string"||t.search(n)!==0?(e.preventDefault(),window.open(t,"_blank")):(e.preventDefault(),loadPage(t),history.pushState(null,"",t))}),window.onpopstate=function(){loadPage(window.location)},getCookie("spotifyWidget")&&removeOverlay(),$(".s-wrap > input").on("input",function(){var e=$(".s-wrap > input:checked")[0]});var e=$(".s-wrap > input").length;$("#image-slider").on("touchstart",function(t){const n=t.originalEvent.touches[0].pageX;$(this).on("touchmove",function(t){const o=t.originalEvent.touches[0].pageX,i=20;if(Math.floor(n-o)>i){var s=$("input:checked")[0];slider=parseInt(s.id.replace("s-",""))+1,slider==e+1&&(slider=e),$(".s-wrap #"+s.id+":checked ~ .s-content").css("transform","translateX(calc(-(100% / "+e+") * ("+slider+" - 1) ) )"),$(".s-wrap #s-"+slider).prop("checked",!0),$(this).off("touchmove")}else Math.floor(n-o)<-i&&(s=$("input:checked")[0],slider=parseInt(s.id.replace("s-",""))-1,slider==0&&(slider=1),$(".s-wrap #"+s.id+":checked ~ .s-content").css("transform","translateX(calc(-(100% / "+e+") * ("+slider+" - 1) ) )"),$(".s-wrap #s-"+slider).prop("checked",!0),$(this).off("touchmove"))})})}),jQuery.event.special.touchstart={setup:function(e,t,n){this.addEventListener("touchstart",n,{passive:!t.includes("noPreventDefault")})}},jQuery.event.special.touchmove={setup:function(e,t,n){this.addEventListener("touchmove",n,{passive:!t.includes("noPreventDefault")})}};function loadPage(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState!==XMLHttpRequest.DONE)return;var e,s,n=t.responseXML;if(n===null)return;if(e=t.responseXML.getElementById("mainContent"),e===null)return;document.title=n.title,s=document.getElementById("mainContent"),s.replaceWith(e),$("#remove-img").bind("click",function(){$("#spotifyModal").css("display","block")}),$("#accept").bind("click",function(){$("#spotifyModal").css("display","none"),removeOverlay(),setCookie("spotifyWidget","true",13)}),$("#abort").bind("click",function(){$("#spotifyModal").css("display","none")}),$("body").bind("click",function(e){e.target==$("#spotifyModal").get(0)&&$("#spotifyModal").css("display","none")}),getCookie("spotifyWidget")&&removeOverlay(),createPie(".pieID.legend",".pieID.pie"),$("#mainContent").on("scroll load",onScroll),$("#mainContent").on("touchmove",onScrollTouch),topScroll()},t.responseType="document",t.open("GET",e),t.send()}function onScroll(){$("#mainContent").scrollTop()>=300?$("#back-to-top-button").addClass("show"):$("#back-to-top-button").removeClass("show")}function onScrollTouch(){$(document).scrollTop()>=300?$("#back-to-top-button").addClass("show"):$("#back-to-top-button").removeClass("show")}function topScroll(){$("#back-to-top-button").on("click touchend",function(e){e.preventDefault();var t=window.location.href,n=document.title;return window.location.href=t+"#back-to-top",window.history.replaceState({},n,t),!1})}function setCookie(e,t,n){var s,o="";n&&(s=new Date,s.setTime(s.getTime()+n*24*60*60*1e3),o="; expires="+s.toUTCString()),document.cookie=e+"="+(t||"")+o+"; path=/"}function getCookie(e){for(var t,s=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(t=o[n];t.charAt(0)==" ";)t=t.substring(1,t.length);if(t.indexOf(s)==0)return t.substring(s.length,t.length)}return null}function eraseCookie(e){document.cookie=e+"=; Max-Age=-99999999;"}function sliceSize(e,t){return e/t*360}function addSlice(e,t,n,s,o){$(t).append("<div class='slice "+s+"'><span></span></div>");var n=n-1,i=-179+e;$("."+s).css({transform:"rotate("+n+"deg) translate3d(0,0,0)"}),$("."+s+" span").css({transform:"rotate("+i+"deg) translate3d(0,0,0)","background-color":o})}function iterateSlices(e,t,n,s,o,i){var r="s"+s+"-"+o,a=179;e<=a?addSlice(e,t,n,r,i):(addSlice(a,t,n,r,i),iterateSlices(e-a,t,n+a,s,o+1,i))}function createPie(e,t){var n,o,i,a,r,s=[];$(e+" span").each(function(){s.push(Number($(this).html()))}),o=0;for(n=0;n<s.length;n++)o+=s[n];i=0,a=["#3f3f3f","#717171","#b6b6b6","#ffffff","#137457","#0c4836","#17a2b8","#0f6674","#296ACC"];for(n=0;n<s.length;n++)r=sliceSize(s[n],o),iterateSlices(r,t,i,n,0,a[n]),$(e+" li:nth-child("+(n+1)+")").css("border-color",a[n]),i+=r}