$(document).ready(function(){$("#mainContent").on("scroll load",onScroll),$("#mainContent").on("touchmove",onScrollTouch),topScroll(),$("body").on("click",function(e){if(e.target.tagName!=="A")return;if(history===null)return;var t=e.target.href,n=window.location.origin;typeof n!="string"||t.search(n)!==0?(e.preventDefault(),window.open(t,"_blank")):(e.preventDefault(),loadPage(t),history.pushState(null,"",t))}),window.onpopstate=function(){loadPage(window.location)},getCookie("spotifyWidget")&&removeOverlay(),$(".s-wrap > input").on("input",function(){var e=$(".s-wrap > input:checked")[0]});var e=$(".s-wrap > input").length;$("#image-slider").on("touchstart",function(n){const t=n.originalEvent.touches[0].pageX;$(this).on("touchmove",function(i){const s=i.originalEvent.touches[0].pageX,o=20;if(Math.floor(t-s)>o){var n=$("input:checked")[0];slider=parseInt(n.id.replace("s-",''))+1,slider==e+1&&(slider=e),$(".s-wrap #"+n.id+":checked ~ .s-content").css("transform","translateX(calc(-(100% / "+e+") * ("+slider+" - 1) ) )"),$(".s-wrap #s-"+slider).prop("checked",!0),$(this).off("touchmove")}else Math.floor(t-s)<-o&&(n=$("input:checked")[0],slider=parseInt(n.id.replace("s-",''))-1,slider==0&&(slider=1),$(".s-wrap #"+n.id+":checked ~ .s-content").css("transform","translateX(calc(-(100% / "+e+") * ("+slider+" - 1) ) )"),$(".s-wrap #s-"+slider).prop("checked",!0),$(this).off("touchmove"))})})}),jQuery.event.special.touchstart={setup:function(n,e,t){this.addEventListener("touchstart",t,{passive:!e.includes("noPreventDefault")})}},jQuery.event.special.touchmove={setup:function(n,e,t){this.addEventListener("touchmove",t,{passive:!e.includes("noPreventDefault")})}};function loadPage(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState!==XMLHttpRequest.DONE)return;var t=e.responseXML,n,s;if(t===null)return;if(n=e.responseXML.getElementById("mainContent"),n===null)return;document.title=t.title,s=document.getElementById("mainContent"),s.replaceWith(n),$("#remove-img").bind("click",function(){$("#spotifyModal").css("display","block")}),$("#accept").bind("click",function(){$("#spotifyModal").css("display","none"),removeOverlay(),setCookie("spotifyWidget","true",13)}),$("#abort").bind("click",function(){$("#spotifyModal").css("display","none")}),$("body").bind("click",function(e){e.target==$("#spotifyModal").get(0)&&$("#spotifyModal").css("display","none")}),getCookie("spotifyWidget")&&removeOverlay(),createPie(".pieID.legend",".pieID.pie"),$("#mainContent").on("scroll load",onScroll),$("#mainContent").on("touchmove",onScrollTouch),topScroll()},e.responseType="document",e.open("GET",t),e.send()}function onScroll(){$("#mainContent").scrollTop()>=300?$("#back-to-top-button").addClass("show"):$("#back-to-top-button").removeClass("show")}function onScrollTouch(){$(document).scrollTop()>=300?$("#back-to-top-button").addClass("show"):$("#back-to-top-button").removeClass("show")}function topScroll(){$("#back-to-top-button").on("click touchend",function(t){t.preventDefault();var e=window.location.href,n=document.title;return window.location.href=e+"#back-to-top",window.history.replaceState({},n,e),!1})}function setCookie(s,o,t){var n="",e;t&&(e=new Date,e.setTime(e.getTime()+t*24*60*60*1e3),n="; expires="+e.toUTCString()),document.cookie=s+"="+(o||"")+n+"; path=/"}function getCookie(o){for(var n=o+"=",e,s=document.cookie.split(";"),t=0;t<s.length;t++){for(e=s[t];e.charAt(0)==" ";)e=e.substring(1,e.length);if(e.indexOf(n)==0)return e.substring(n.length,e.length)}return null}function eraseCookie(e){document.cookie=e+"=; Max-Age=-99999999;"}function sliceSize(e,t){return e/t*360}function addSlice(n,s,e,t,o){$(s).append("<div class='slice "+t+"'><span></span></div>");var e=e-1,i=-179+n;$("."+t).css({transform:"rotate("+e+"deg) translate3d(0,0,0)"}),$("."+t+" span").css({transform:"rotate("+i+"deg) translate3d(0,0,0)","background-color":o})}function iterateSlices(t,o,n,i,a,s){var r="s"+i+"-"+a,e=179;t<=e?addSlice(t,o,n,r,s):(addSlice(e,o,n,r,s),iterateSlices(t-e,o,n+e,i,a+1,s))}function createPie(n,r){var t=[],o,e,i,a,s;$(n+" span").each(function(){t.push(Number($(this).html()))}),o=0;for(e=0;e<t.length;e++)o+=t[e];i=0,a=["#3f3f3f","#717171","#b6b6b6","#ffffff","#137457","#0c4836","#17a2b8","#0f6674","#296ACC"];for(e=0;e<t.length;e++)s=sliceSize(t[e],o),iterateSlices(s,r,i,e,0,a[e]),$(n+" li:nth-child("+(e+1)+")").css("border-color",a[e]),i+=s}